<!doctypehtml><title>Use Flake8 and Black to lint and format Python code. | vespaiach.com</title><meta content=width=device-width,initial-scale=1 name=viewport><meta content="Regularly, writing code is meant to be read by other programmers, that’s why making our code easy to read and easy to follow along are necessary especially when we are in a team." name=description><meta content="flake8, black, python" name=keywords><meta content="index, nofollow" name=robots><meta content="Use Flake8 and Black to lint and format Python code." property=og:title><meta content="Regularly, writing code is meant to be read by other programmers, that’s why making our code easy to read and easy to follow along are necessary especially when we are in a team." property=og:description><meta content=article property=og:type><meta content=https://www.vespaiach.com/use-flake8-and-black.html property=og:url><meta content=https://www.vespaiach.com/images/use-flake8-and-black.jpeg property=og:image><meta content="Use Flake8 and Black to lint and format Python code." property=og:image:alt><link href=https://www.vespaiach.com/use-flake8-and-black.html rel=canonical><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href=https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;500;600;700&display=swap rel=stylesheet><link href=/css/post-96822de9c7137f2b202bcd2275992c46.css rel=stylesheet><script src=/js/post-f902d7e0a2e9254a4bede1132a14fd27.js></script><script type=application/ld+json>{
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.vespaiach.com/use-flake8-and-black.html"
  },
  "headline": "Use Flake8 and Black to lint and format Python code.",
  "description": "Regularly, writing code is meant to be read by other programmers, that’s why making our code easy to read and easy to follow along are necessary especially when we are in a team.",
  "image": `https://www.vespaiach.com/use-flake8-and-black.jpeg`,
  "datePublished": "Saturday, May 14, 2022",
  "dateModified": "Saturday, May 14, 2022",
  "author": {
    "@type": "Person",
    "name": "Trinh Nguyen (vespaiach)"
  },
  "publisher": {
    "@type": "Person Blog",
    "name": "vespaich.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.vespaiach.com/favicon.ico",
    }
  },
  "articleBody": "&lt;p&gt;PEP8 (Python Enhancement Proposal 8) is widely accepted by the Python community. It provides guidelines and best practices on how to write Python code and by following PEP8 will make code files be consistent and be more readable.&lt;/p&gt;
&lt;p&gt;To adopt PEP8 in our projects, we can use these two power tools:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/PyCQA/flake8&quot;&gt;Flake8&lt;/a&gt; to check source code against PEP8&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/psf/black&quot;&gt;Black&lt;/a&gt; to format source code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Flake8&lt;/h2&gt;
&lt;p&gt;Install Flake8 with pip:&lt;/p&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; flake8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To run Flake8, simply invoke &lt;code&gt;flake8&lt;/code&gt; in the root folder of the project. Flake will run through all files and print out any error or warning.&lt;/p&gt;
&lt;p&gt;It is also possible to pass some arguments directly to Flake8.&lt;/p&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;flake8 --select E123 --ignore D302
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To config Flake8 per project, we can create an INI-format config file with name: &lt;code&gt;setup.cfg&lt;/code&gt;, &lt;code&gt;tox.ini&lt;/code&gt; or &lt;code&gt;.flake8&lt;/code&gt; in root folder and specify any config options under &lt;code&gt;[flake8]&lt;/code&gt; section.&lt;/p&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;flake8&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
ignore &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; D203
exclude &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; .git,__pycache__,build,dist
max-complexity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
max-line-length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;110&lt;/span&gt;
max-doc-length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flake8 hasn't supported (&lt;code&gt;pyproject.toml&lt;/code&gt;](&lt;a href=&quot;https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/&quot;&gt;https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/&lt;/a&gt;) which is a minus point of Flake8.&lt;/li&gt;
&lt;li&gt;For complete options, please refer to this &lt;a href=&quot;https://flake8.pycqa.org/en/latest/user/options.html&quot;&gt;link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Black&lt;/h2&gt;
&lt;p&gt;Install Black with pip:&lt;/p&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; black
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Simply invoke &lt;code&gt;black .&lt;/code&gt; in the root folder of the project and Black will format every code file. The manifesto of Black is &lt;code&gt;Black is the uncompromising Python code formatter&lt;/code&gt;, that means it will provide just a few options to configure and it should run well without configuration by default. What Black focuses on is the code consistency not the code formatting styles, so it won’t have many options for us to configure.&lt;/p&gt;
&lt;p&gt;To configure Black, create a file with the name &lt;code&gt;pyproject.toml&lt;/code&gt; in the root folder and add &lt;code&gt;[tool.black]&lt;/code&gt; section.&lt;/p&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;tool.black&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
line-length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;88&lt;/span&gt;
target-version &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;'py37'&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
include &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;'\.pyi?$'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In order to make Black works well with Flack8, we need to add these two options to Flake8 configuration&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;remark-highlight&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;flake8&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
max-line-length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;88&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# or any length that we specify in Black configuration (88 is default value of Black)&lt;/span&gt;
extend-ignore &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; E203 
&lt;span class=&quot;token comment&quot;&gt;# Black will enforce an equal amount of whitespace around slice operators. &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Due to this, Flake8 will raise E203 whitespace before ':' warnings. &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Since this warning is not PEP 8 compliant, Flake8 should be configured to ignore it via extend-ignore = E203&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;If we use Black, that means we will follow Black code style formatting than ourself code style formatting, so please checkout this &lt;a href=&quot;https://black.readthedocs.io/en/stable/the_black_code_style/index.html&quot;&gt;link&lt;/a&gt; for more details of Black's code formatting&lt;/li&gt;
&lt;/ul&gt;
",
  "keywords": "flake8, black, python"
}</script><body style="background: white;"><div class=i-am-top id=top></div><div class=home><a title="Home page" href=/>home</a></div><article class=article><div class=meta><div class=meta-item><svg viewbox="0 0 448 512" height=1em xmlns=http://www.w3.org/2000/svg><path d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192H400V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"></path></svg><span data-date="Saturday, May 14, 2022" class=date>Saturday, May 14, 2022</span></div><a class="last link-svg" rel="noopener noreferrer" href=https://github.com/vespaiach/personal_website/blob/main/docs/use-flake8-and-black.md target=_blank><svg viewbox="0 0 496 512" height=1em xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div><div class=content><h1 class=title>Use Flake8 and Black to lint and format Python code.</h1><p>Regularly, writing code is meant to be read by other programmers, that’s why making our code easy to read and easy to follow along are necessary especially when we are in a team.<p>PEP8 (Python Enhancement Proposal 8) is widely accepted by the Python community. It provides guidelines and best practices on how to write Python code and by following PEP8 will make code files be consistent and be more readable.<p>To adopt PEP8 in our projects, we can use these two power tools:<ul><li><a href=https://github.com/PyCQA/flake8>Flake8</a> to check source code against PEP8<li><a href=https://github.com/psf/black>Black</a> to format source code</ul><h2>Flake8</h2><p>Install Flake8 with pip:<div class=remark-highlight><pre class=language-bash><code class=language-bash>pip <span class="token function">install</span> flake8
</code></pre></div><p>To run Flake8, simply invoke <code>flake8</code> in the root folder of the project. Flake will run through all files and print out any error or warning.<p>It is also possible to pass some arguments directly to Flake8.<div class=remark-highlight><pre class=language-bash><code class=language-bash>flake8 --select E123 --ignore D302
</code></pre></div><p>To config Flake8 per project, we can create an INI-format config file with name: <code>setup.cfg</code>, <code>tox.ini</code> or <code>.flake8</code> in root folder and specify any config options under <code>[flake8]</code> section.<div class=remark-highlight><pre class=language-bash><code class=language-bash><span class="token punctuation">[</span>flake8<span class="token punctuation">]</span>
ignore <span class="token operator">=</span> D203
exclude <span class="token operator">=</span> .git,__pycache__,build,dist
max-complexity <span class="token operator">=</span> <span class="token number">10</span>
max-line-length <span class="token operator">=</span> <span class="token number">110</span>
max-doc-length <span class="token operator">=</span> <span class="token number">100</span>
</code></pre></div><p><strong>Note:</strong><ul><li>Flake8 hasn't supported (<code>pyproject.toml</code>](<a href=https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/>https://pip.pypa.io/en/stable/reference/build-system/pyproject-toml/</a>) which is a minus point of Flake8.<li>For complete options, please refer to this <a href=https://flake8.pycqa.org/en/latest/user/options.html>link</a></ul><h2>Black</h2><p>Install Black with pip:<div class=remark-highlight><pre class=language-bash><code class=language-bash>pip <span class="token function">install</span> black
</code></pre></div><p>Simply invoke <code>black .</code> in the root folder of the project and Black will format every code file. The manifesto of Black is <code>Black is the uncompromising Python code formatter</code>, that means it will provide just a few options to configure and it should run well without configuration by default. What Black focuses on is the code consistency not the code formatting styles, so it won’t have many options for us to configure.<p>To configure Black, create a file with the name <code>pyproject.toml</code> in the root folder and add <code>[tool.black]</code> section.<div class=remark-highlight><pre class=language-bash><code class=language-bash><span class="token punctuation">[</span>tool.black<span class="token punctuation">]</span>
line-length <span class="token operator">=</span> <span class="token number">88</span>
target-version <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'py37'</span><span class="token punctuation">]</span>
include <span class="token operator">=</span> <span class="token string">'\.pyi?$'</span>
</code></pre></div><p><strong>Note:</strong><ul><li>In order to make Black works well with Flack8, we need to add these two options to Flake8 configuration</ul><div class=remark-highlight><pre class=language-bash><code class=language-bash><span class="token punctuation">[</span>flake8<span class="token punctuation">]</span>
max-line-length <span class="token operator">=</span> <span class="token number">88</span> <span class="token comment"># or any length that we specify in Black configuration (88 is default value of Black)</span>
extend-ignore <span class="token operator">=</span> E203 
<span class="token comment"># Black will enforce an equal amount of whitespace around slice operators. </span>
<span class="token comment"># Due to this, Flake8 will raise E203 whitespace before ':' warnings. </span>
<span class="token comment"># Since this warning is not PEP 8 compliant, Flake8 should be configured to ignore it via extend-ignore = E203</span>
</code></pre></div><ul><li>If we use Black, that means we will follow Black code style formatting than ourself code style formatting, so please checkout this <a href=https://black.readthedocs.io/en/stable/the_black_code_style/index.html>link</a> for more details of Black's code formatting</ul></div></article><footer><div class=footer><a href=https://www.linkedin.com/in/trinh-nguyen-0a701526><svg viewbox="0 0 448 512" height=1em xmlns=http://www.w3.org/2000/svg><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a><a href=https://github.com/vespaiach><svg viewbox="0 0 480 512" height=1em xmlns=http://www.w3.org/2000/svg><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z">a(class="back-to-top", href="#top") top</path></svg></a></div></footer><a class=back-to-top href=#top>top</a>